{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chri5t0ph3r/Rutgers/Homework_Folder/MERN/google-mern-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/chri5t0ph3r/Rutgers/Homework_Folder/MERN/google-mern-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/chri5t0ph3r/Rutgers/Homework_Folder/MERN/google-mern-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/chri5t0ph3r/Rutgers/Homework_Folder/MERN/google-mern-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"./style.css\";import Navbar from\"../../components/Navbar\";import Jumbotron from\"../../components/Jumbotron\";import{Row,Col,Container}from\"react-bootstrap\";import SearchForm from\"../../components/SearchForm\";import API from\"../../utils/api\";import Button from\"../../components/Button\";const Search=()=>{//Books\nconst _useState=useState({}),_useState2=_slicedToArray(_useState,2),booksState=_useState2[0],setBooksState=_useState2[1];//Btn Press From Search Form\nconst handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(input){var books,array;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return console.log(\"%cAPI Call\",\"color:limegreen\");case 3:_context.next=5;return API.getBooks(input);case 5:books=_context.sent;_context.next=8;return books.data.items;case 8:array=_context.sent;_context.next=11;return setBooksState(_objectSpread(_objectSpread({},booksState),{},{books:array}));case 11:_context.next=13;return console.log(\"%cReturns The array\",\"color:limegreen\");case 13:console.log(booksState);_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 19:case\"end\":return _context.stop();}},_callee,null,[[0,16]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();const onView=event=>{const target=event.target;target.parentElement.parentElement.parentElement.classList.remove(\"jumbotron-book\");target.parentElement.parentElement.parentElement.classList.add(\"jumbotron-book-open\");};const onSave=event=>{const target=event.target;try{const book=booksState.books.find(book=>book.id===target.id);console.log(book);API.saveBook({googleId:book.id,title:book.volumeInfo.title,link:book.volumeInfo.infoLink,authors:book.volumeInfo.authors,description:book.volumeInfo.description,image:book.volumeInfo.imageLinks.thumbnail}).then(()=>console.log(\"Finsihed\")).catch(err=>{console.log(err);});}catch(err){console.log(err);}console.log(target.id);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Navbar,null),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:{offset:1,span:10}},/*#__PURE__*/React.createElement(Jumbotron,{id:\"header-sign\",className:\"shadow p-3 mb-5 rounded\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"h1\",null,\"(React) Google Books Search\")),/*#__PURE__*/React.createElement(\"div\",{className:\"header-text\"},/*#__PURE__*/React.createElement(\"p\",null,\"Search for and Save books of intrest\")))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:{offset:1,span:10}},/*#__PURE__*/React.createElement(Jumbotron,{className:\"shadow p-3 mb-5 rounded\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Search\"),/*#__PURE__*/React.createElement(SearchForm,{onSearch:handleSubmit})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:{offset:1,span:10}},/*#__PURE__*/React.createElement(Jumbotron,{className:\"shadow p-3 mb-5 rounded\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Results\"),/*#__PURE__*/React.createElement(\"div\",null,booksState.books?booksState.books.map((book,i)=>/*#__PURE__*/React.createElement(Jumbotron,{className:\"jumbotron-book\",key:i},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xl:10},/*#__PURE__*/React.createElement(\"h3\",null,book.volumeInfo.title)),/*#__PURE__*/React.createElement(Col,{xl:2},/*#__PURE__*/React.createElement(Button,{btnType:\"View\",onClick:onView}),/*#__PURE__*/React.createElement(Button,{id:book.id,btnType:\"Save\",onClick:onSave}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"h4\",null,book.volumeInfo.authors)),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:4,lg:2},/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(book.volumeInfo.imageLinks.thumbnail),alt:\"book\"})),/*#__PURE__*/React.createElement(Col,{md:8,lg:10},/*#__PURE__*/React.createElement(\"p\",null,book.volumeInfo.description))))):null))))));};export default Search;","map":{"version":3,"sources":["/Users/chri5t0ph3r/Rutgers/Homework_Folder/MERN/google-mern-app/client/src/pages/Search/index.js"],"names":["React","useState","Navbar","Jumbotron","Row","Col","Container","SearchForm","API","Button","Search","booksState","setBooksState","handleSubmit","input","console","log","getBooks","books","data","items","array","onView","event","target","parentElement","classList","remove","add","onSave","book","find","id","saveBook","googleId","title","volumeInfo","link","infoLink","authors","description","image","imageLinks","thumbnail","then","catch","err","offset","span","map","i"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./style.css\";\nimport Navbar from \"../../components/Navbar\";\nimport Jumbotron from \"../../components/Jumbotron\";\nimport { Row, Col, Container } from \"react-bootstrap\";\nimport SearchForm from \"../../components/SearchForm\";\nimport API from \"../../utils/api\";\nimport Button from \"../../components/Button\";\n\nconst Search = () => {\n  //Books\n  const [booksState, setBooksState] = useState({});\n\n  //Btn Press From Search Form\n  const handleSubmit = async (input) => {\n    try {\n      await console.log(\"%cAPI Call\", \"color:limegreen\");\n      const books = await API.getBooks(input);\n\n      let array = await books.data.items;\n      await setBooksState({ ...booksState, books: array });\n      await console.log(\"%cReturns The array\", \"color:limegreen\");\n      console.log(booksState);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const onView = (event) => {\n    const target = event.target;\n    target.parentElement.parentElement.parentElement.classList.remove(\n      \"jumbotron-book\"\n    );\n    target.parentElement.parentElement.parentElement.classList.add(\n      \"jumbotron-book-open\"\n    );\n  };\n\n  const onSave = (event) => {\n    const target = event.target;\n    try {\n      const book = booksState.books.find((book) => book.id === target.id);\n      console.log(book);\n      API.saveBook({\n        googleId: book.id,\n        title: book.volumeInfo.title,\n        link: book.volumeInfo.infoLink,\n        authors: book.volumeInfo.authors,\n        description: book.volumeInfo.description,\n        image: book.volumeInfo.imageLinks.thumbnail,\n      })\n        .then(() => console.log(\"Finsihed\"))\n        .catch((err) => {\n          console.log(err);\n        });\n    } catch (err) {\n      console.log(err);\n    }\n\n    console.log(target.id);\n  };\n\n  return (\n    <div>\n      <Navbar></Navbar>\n      <Container>\n        <Row>\n          <Col md={{ offset: 1, span: 10 }}>\n            <Jumbotron id={`header-sign`} className={`shadow p-3 mb-5 rounded`}>\n              <div>\n                <Row>\n                  <h1>(React) Google Books Search</h1>\n                </Row>\n                <div className=\"header-text\">\n                  <p>Search for and Save books of intrest</p>\n                </div>\n              </div>\n            </Jumbotron>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={{ offset: 1, span: 10 }}>\n            <Jumbotron className={`shadow p-3 mb-5 rounded`}>\n              <h2>Search</h2>\n              <SearchForm onSearch={handleSubmit}></SearchForm>\n            </Jumbotron>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={{ offset: 1, span: 10 }}>\n            <Jumbotron className={`shadow p-3 mb-5 rounded`}>\n              <h3>Results</h3>\n              <div>\n                {booksState.books\n                  ? booksState.books.map((book, i) => (\n                      <Jumbotron className={\"jumbotron-book\"} key={i}>\n                        <Row>\n                          <Col xl={10}>\n                            <h3>{book.volumeInfo.title}</h3>\n                          </Col>\n\n                          <Col xl={2}>\n                            <Button btnType={\"View\"} onClick={onView}></Button>\n                            <Button\n                              id={book.id}\n                              btnType={\"Save\"}\n                              onClick={onSave}\n                            ></Button>\n                          </Col>\n                        </Row>\n                        <Row>\n                          <h4>{book.volumeInfo.authors}</h4>\n                        </Row>\n                        <Row>\n                          <Col md={4} lg={2}>\n                            <img\n                              src={`${book.volumeInfo.imageLinks.thumbnail}`}\n                              alt={\"book\"}\n                            ></img>\n                          </Col>\n                          <Col md={8} lg={10}>\n                            <p>{book.volumeInfo.description}</p>\n                          </Col>\n                        </Row>\n                      </Jumbotron>\n                    ))\n                  : null}\n              </div>\n            </Jumbotron>\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}